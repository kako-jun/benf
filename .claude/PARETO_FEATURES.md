# PARETO_FEATURES.md - パレート法則機能仕様

## 概要
パレート法則（80/20の法則）の分析機能仕様。経済学者ヴィルフレド・パレートが発見した「上位20%が全体の80%を占める」という現象を検証・分析する。

## 核心機能

### 1. パレート分析 (`lawkit pareto`)
**目的**: データ分布がパレートの法則（80/20原則）に従うかを検証し、ビジネス洞察を提供

**入力形式**:
- 数値データ（降順でソート済みを推奨）
- ファイル形式: CSV, JSON, Excel, テキスト
- 標準入力対応
- 国際数字対応（日本語数字、中国語金融数字等）

**出力メトリクス**:
- **パレート比率**: 上位20%が占める割合（理想値80%）
- **集中度指数**: Gini係数による不平等度測定
- **濃度分布**: 累積分布曲線データ
- **リスク評価**: Low/Medium/High/Critical

### 2. ビジネス洞察生成
**重点管理推奨**: 上位20%への集中投資戦略
**効率化機会**: 分散分布での最適化余地
**リスク管理**: 過度集中への代替案提示

### 3. 多言語対応
- **日本語**: パレートの法則解析、80/20原則
- **英語**: Pareto Principle Analysis, 80/20 Rule
- **中国語**: 帕累托法则分析、二八定律
- **ヒンディー語**: पैरेटो सिद्धांत विश्लेषण
- **アラビア語**: تحليل مبدأ باريتو

## CLI仕様

### 基本コマンド
```bash
lawkit pareto [入力データ] [オプション]
```

### 主要オプション
- `--format FORMAT`: 出力形式 (text, json, csv, yaml, toml, xml)
- `--quiet/-q`: 最小出力（メトリクスのみ）
- `--verbose/-v`: 詳細分析・解釈付き
- `--lang/-l LANGUAGE`: 出力言語 (en, ja, zh, hi, ar, auto)
- `--filter RANGE`: 数値範囲フィルタ (>=100, <1000, 50-500)
- `--min-count NUMBER`: 最小データ点数（デフォルト5）

### 使用例
```bash
# 売上データのパレート分析
echo "1000000 500000 300000 200000 100000" | lawkit pareto --verbose

# CSVファイルの分析
lawkit pareto sales_data.csv --format json

# 日本語での詳細分析
lawkit pareto revenue.txt --lang ja --verbose

# フィルタリング付き分析
lawkit pareto data.csv --filter ">=1000" --verbose
```

## 出力形式

### テキスト出力（デフォルト）
```
パレートの法則（80/20の法則）解析結果

データセット: sales_data.csv
解析した数値数: 50
注意レベル: Low

パレート指標:
  上位20%の占有率: 78.5%
  パレート比率: 0.981
  集中度指数（ジニ係数）: 0.654

解釈:
✅ 理想的なパレート分布 - 80/20の法則に従っています
   上位20%が約80%の価値をコントロール
```

### JSON出力
```json
{
  "dataset": "sales_data.csv",
  "numbers_analyzed": 50,
  "risk_level": "Low",
  "pareto_ratio": 0.981,
  "concentration_index": 0.654,
  "top_20_percent_share": 78.5,
  "cumulative_distribution_points": 51
}
```

### CSV出力
```csv
dataset,numbers_analyzed,risk_level,pareto_ratio,concentration_index,top_20_percent_share
sales_data.csv,50,Low,0.981,0.654,78.5
```

## リスク評価基準

### Low (理想的)
- 上位20%が75-85%を占有
- パレート比率 > 0.9
- 集中度指数 0.5-0.8

### Medium (軽微な偏差)
- 上位20%が65-90%を占有  
- パレート比率 0.7-0.9
- 要監視

### High (有意な偏差)
- 上位20%が50-95%を占有
- 戦略見直し推奨

### Critical (重大な偏差)
- 極端な集中または分散
- 緊急対応必要

## ビジネス応用分野

### 営業・マーケティング
- **顧客収益分析**: 上位20%顧客の売上貢献度
- **商品売上分析**: 主力商品の収益集中度
- **地域別売上**: エリア戦略の効率性評価

### 人事・組織管理
- **生産性分析**: 高パフォーマー社員の貢献度
- **スキル分布**: 専門スキルの組織内集中度
- **研修効果**: 教育投資の効率性測定

### 在庫・物流管理
- **ABC分析**: 重要商品の特定
- **倉庫効率**: 出荷頻度の集中度分析
- **コスト構造**: 主要コスト要因の特定

### 品質管理
- **不具合分析**: 主要問題の集中度
- **工程改善**: 改善効果の集中投資
- **リスク管理**: 重要リスクの優先順位付け

## 技術的制約

### データ要件
- **最小データ点数**: 5個（設定可能）
- **データ型**: 正の数値のみ
- **推奨サイズ**: 10-10000データ点

### 性能特性
- **処理速度**: O(n log n) - ソート処理
- **メモリ使用量**: O(n) - データサイズに比例
- **精度**: 浮動小数点64bit

### 制限事項
- 負の値は自動除外
- ゼロ値は除外
- 極端に大きな数値（1e15超）は精度低下の可能性

## 統合機能

### 他法則との比較
- **ベンフォード法則**: データ品質 vs 分布分析
- **Zipf法則**: 頻度分布 vs 価値分布
- **将来統合**: 複数法則の総合評価

### 出力連携
- 全形式で統一されたスキーマ
- 他ツールとのデータ交換対応
- API連携準備（将来拡張）