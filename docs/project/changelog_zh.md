# 更新日志

本文档记录lawkit的所有重要变更。

格式基于[保持更新日志](https://keepachangelog.com/zh-CN/1.0.0/)，
项目遵循[语义化版本](https://semver.org/lang/zh-CN/)规范。

## [未发布]

### 新增
- 按照diffx模式完全重构文档架构
- 所有指南的日语文档变体
- CI/CD、数据库和云平台的集成指南
- 性能优化指南
- 项目文档（更新日志、路线图）

### 变更
- **文档语言**：从5种语言减少到3种（英语、日语、中文）
- **战略重点**：移除阿拉伯语和印地语文档以提高成本效率
- **输入支持**：**不变** - 继续解析所有国际数字格式（英/日/中/印/阿）
- **输出语言**：CLI输出标准化为英语以保证国际兼容性
- 文档结构现在与diffx兄弟项目匹配
- FAQ移动到user-guide子目录
- 所有文档组织到合适的子目录中

### 移除
- 阿拉伯语（README.ar.md）和印地语（README.hi.md）文档文件
- 未使用的特定语言CLI输出选项

## [2.0.1] - 2024-07-05

### 修复
- 解决所有clippy警告
- 代码风格改进和现代化
- 结构体初始化中的冗余字段名
- 手动strip操作替换为strip_prefix
- 手动clamp操作替换为clamp方法
- 手动范围包含实现
- 改进错误处理一致性

### 变更
- GitHub Actions CI工作流简化
- 项目代码格式标准化

## [2.0.0] - 2024-07-04

### 新增
- **集成分析**：多法则比较和冲突检测
- **推荐系统**：自动法则选择和冲突解决
- **齐夫定律分析**：多语言支持的文本频率分析
- **正态分布分析**：统计正态性检验和质量控制
- **泊松分布分析**：事件预测和稀有事件分析
- **统一CLI界面**：`lawkit [子命令]` 结构
- **向后兼容性**：完全保持`benf`命令兼容性

### 变更
- **架构重新设计**：单体工具 → 集成平台
- **项目结构**：lawkit-cli + lawkit-core 工作区架构
- **类型系统**：统一公共基础 + 法则特定实现

### 增强
- **帕累托分析**：80/20原则、基尼系数、业务洞察
- **多语言支持**：英语、日语、中文、印地语、阿拉伯语
- **国际数字**：支持各种数字格式
- **输出格式**：text、json、csv、yaml、toml、xml

## [1.x.x] - benf 遗留版本

### [1.2.0] - 2024-06-15
- 增强日语数字识别
- 改进文件格式检测
- 边缘情况的更好错误处理

### [1.1.0] - 2024-05-20
- 添加多种输出格式（JSON、CSV、YAML）
- 国际数字支持
- 大数据集性能改进

### [1.0.0] - 2024-04-10
- 以`benf`身份初次发布
- 基本本福德定律分析
- CSV文件支持
- CLI界面

## 迁移指南

### 从benf到lawkit 2.0

**旧命令：**
```bash
benf data.csv
```

**新命令（100%兼容）：**
```bash
lawkit benf data.csv
```

**新功能：**
```bash
# 多法则分析
lawkit compare data.csv --laws benford,pareto,normal

# 帕累托分析
lawkit pareto sales.csv --gini

# 文本分析
lawkit zipf document.txt --language ja

# 质量控制
lawkit normal measurements.csv --outliers
```

### 配置迁移

旧的`benf.toml`配置自动与`lawkit.toml`兼容。

### API迁移

对于程序化使用：

**旧：**
```rust
use benf::analyze_benford;
```

**新：**
```rust
use lawkit_core::laws::benford::BenfordAnalysis;
```

## 开发里程碑

### 第1阶段：基础（已完成）
- ✅ benf → lawkit迁移
- ✅ 统一架构
- ✅ 向后兼容性

### 第2阶段：多法则平台（已完成）
- ✅ 帕累托法则实现
- ✅ 齐夫法则实现
- ✅ 正态分布分析
- ✅ 泊松分布分析
- ✅ 集成分析框架

### 第3阶段：高级功能（已完成）
- ✅ 多法则比较
- ✅ 冲突检测
- ✅ 推荐系统
- ✅ 性能优化

### 第4阶段：文档和完善（已完成）
- ✅ 综合文档
- ✅ 使用示例
- ✅ 集成指南
- ✅ 性能指南

## 未来路线图

有关计划的未来增强功能，请参阅[roadmap_zh.md](roadmap_zh.md)。

## 贡献者

- kako-jun - 原作者和维护者
- Claude Code - 开发协助和自动化

## 许可证

本项目采用MIT许可证 - 详见[LICENSE](../LICENSE)文件。

## 致谢

- 受统计欺诈检测研究启发
- 使用Rust构建以获得性能和安全性
- 社区反馈和贡献